# totodo

Приложение для создания и ведения задач v3.

# Этап 1
Реализован список задач, показ количества выполненных дел, свайпы для отметки выполнения и удаления, выставление и отображение приоритетности задачи и их дедлайнов, редактирование и добавление новых задач.

# Этап 2
Реализована работа с бекендом: данные отправляются/получаются с сервера, дополнительно организовано сохранение данных локально при помощи базы данных Isar, также добавлена интернационализация на русский/английский языки.

# Этап 3
Реализована обработка серверных ошибок, добавлена логика по работе приложения в оффлайн режиме, в репозитории проработаны сценарии синхронизации данных между бд и сервером, настроен di, слой навигации переписан на Navigator 2.0, поддержаны диплинки на главный экран приложения и на экран добавления дела, реализовны необходимые unit тесты и интеграционный тест покрывающий сценарий добавления нового дела.

# Для проверяющих
* Линтёр для прверки кода я настраивал сам, кое-где он ругается на сгенерированные файлы в остальном правила соблюдены.
* Серверные ошибки отлавливаются в классе по работе с сервером и далее прокидываются дальше или обрабатываются по мере необходимлости.
* Приложение может спокойно функционировать без интернета в оффлайн режиме. За отображение текущего состояния синхронизации отвечает floating action button на главном экране (знаю, что 3 кнопки - это не по гайдам, но для проверки так удобнее). Эта кнопка имеет 3 состаяния: данные синхронизированы, есть несинхронизированные локальные изменения и идёт синхрониация. Для первых двух кнопка активна и если на неё нажать произойдет попытка синхронизировать данные между локальной бд и сервером, также это происходит при каждом запуске приложения, как указано в критерии. При этом алгоритм мерджа данных я писал сам, если по нему будут вопросы, пишите в тг.
* Работа с данными организована в репозитории, который находится в слое domain.
* Для стейт-менеджмента использовал Provider. Благодаря прослушиванию данных провайдера, обеспечивается консистентность.
* DI реализовал согласно паттерну di container при помощи библиотек get_it и injectable. Вся соответствующая логика лежит по адресу lib/core/di
* Написаны Unit тесты для репозитория по различным сценариям получения задач. Там написано 5 unit тестов для функций. В целом большая часть логики у меня сосредоточена именно в репозитории. Для классов по общению с бд и сервером тесты считаю излишними потому что isar уже должен быть протестирован, а в классе с сетью логика не сложная, в основном по прокидыванию и логированию исключений и различной сериализации/десериализации. С ментором этот вопрос обсудил. Считаю, что для выполнения критерия тестов репозитория в моём случае достаточно. Но на всякий слочай докинул ещё тестов на конвертацию можду различными моделями.
* Реализован интеграционный тест, покрывающий сценарий добавления нового дела.
* Также согласно лекции переехал на Navigator 2.0 и поддержал deeplink-и, например (totodo://example.com или totodo://example.com/new-task)

Если возникнут вопросы, можешь связаться со мной по тг: @Accordion_Palych
Спасибо тебе за проверку моей работы и удачи на просторах Flutter! 


Файлы APK лежат в релизах Github
Ссылка: https://github.com/Damovetsky/totodo/releases/tag/v1.2.0

![Alt text](/screenshots/Tasks_screen.png?raw=true "Экран со всеми задачами")
![Alt text](/screenshots/Task_details_screen.png?raw=true "Экран редактирования/создания задачи")